<p-card header="Detalles de la orden" styleClass="detalles-container">
  <div class="p-fluid p-formgrid p-grid">
    <!-- Código de orden -->
    <div class="p-field p-col-12 p-md-6">
      <label for="codigo">Código de orden</label>
      <input pInputText id="codigo" [readonly]="true" [value]="orden?.id" />
    </div>

    <!-- Fecha de orden -->
    <div class="p-field p-col-12 p-md-6">
      <label for="fecha">Fecha de la orden</label>
      <input
        pInputText
        id="fecha"
        [readonly]="true"
        [value]="orden?.orderDate | date : 'dd/MM/yyyy'"
      />
    </div>

    <!-- Cliente -->
    <div class="p-field p-col-12">
      <label>Cliente</label>
      <p-card styleClass="p-mt-2">
        <div><strong>Nombre:</strong> {{ orden?.customer?.firstName }}</div>
        <div><strong>Correo:</strong> {{ orden?.customer?.email }}</div>
      </p-card>
    </div>

    <!-- Dirección -->
    <div class="p-field p-col-12 p-md-6">
      <label>Dirección de entrega</label>
      <input pInputText [readonly]="true" [value]="orden?.deliveryAddress" />
    </div>

    <!-- Teléfono -->
    <div class="p-field p-col-12 p-md-6">
      <label>Teléfono</label>
      <input pInputText [readonly]="true" [value]="orden?.deliveryPhone" />
    </div>

    <!-- Estado -->
    <div class="p-field p-col-12 p-md-6">
      <label>Estado</label><br />
      <p-tag
        [value]="orden?.orderStatus ?? ''"
        [severity]="getSeverity(orden?.orderStatus ?? '')"
      >
      </p-tag>
    </div>

    <!-- Observaciones -->
    <div class="p-field p-col-12">
      <label>Observaciones</label>
      <textarea
        pInputTextarea
        [readonly]="true"
        [autoResize]="true"
        [value]="orden?.observations || '—'"
      >
      </textarea>
    </div>

    <!-- Productos -->
    <div class="p-field p-col-12">
      <label>Productos</label>
      <p-table
        [value]="orden?.orderItem ?? []"
        *ngIf="orden?.orderItem?.length"
      >
        <ng-template pTemplate="header">
          <tr>
            <th>Producto</th>
            <th>Cantidad</th>
            <th>Precio Unitario</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-item>
          <tr>
            <td>{{ item.productName }}</td>
            <td>{{ item.itemQuantity }}</td>
            <td>S/. {{ item.unitPrice | number : "1.2-2" }}</td>
          </tr>
        </ng-template>
      </p-table>
    </div>

    <!-- Total -->
    <div class="p-field p-col-12 order-total" *ngIf="orden?.orderTotal">
      <p-divider></p-divider>
      <div class="p-text-right p-mt-2">
        <strong>Total:</strong>
        <span class="ml-2">S/. {{ orden?.orderTotal | number : "1.2-2" }}</span>
      </div>
    </div>
  </div>
</p-card>
