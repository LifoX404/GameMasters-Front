<div class="detalles-container">
  <div class="header">
    <h2>Detalles de la orden</h2>
  </div>

  @if (orden) {
    <section>
      <div class="container">
        <div class="form-group">
          <label>Código de orden</label>
          <span class="form-control">{{ orden.id }}</span>
        </div>

        <div class="form-group">
          <label>Fecha de la orden</label>
          <span class="form-control">{{ orden.orderDate | date : "dd/MM/yyyy" }}</span>
        </div>

        <div class="form-group">
          <label>Cliente</label>
          <div class="form-control client-info">
            <span>Nombre: {{ orden.customer?.firstName }}</span
            ><br />
            <span>Correo: {{ orden.customer?.email }}</span>
          </div>
        </div>

        <div class="form-group">
          <label>Dirección de entrega</label>
          <span class="form-control">{{ orden.deliveryAddress }}</span>
        </div>

        <div class="form-group">
          <label>Teléfono</label>
          <span class="form-control">{{ orden.deliveryPhone }}</span>
        </div>

        <div class="form-group">
          <label>Estado</label>
          <span class="form-control">{{ orden.orderStatus }}</span>
        </div>

        <div class="form-group">
          <label>Observaciones</label>
          <span class="form-control-plaintext">{{ orden.observations }}</span>
        </div>

        <div class="form-group">
          <label>Productos</label>
          <div class="products-container">
            @for (item of orden.orderItem; track item.id) {
              <div class="product-item">
                <div class="product-row">
                  <div class="product-info">
                    <span class="product-name">{{ item.productName }}</span>
                    <span class="product-quantity">{{ item.itemQuantity }}</span>
                    <span class="product-price">
                    S/. {{ item.unitPrice | number : "1.2-2" }}
                  </span>
                  </div>
                </div>
              </div>
            } @empty {
              <p>No hay productos registrados en esta orden.</p>
            }
          </div>
        </div>

        <div class="order-total">
          <label>Total de la orden</label>
          <div class="total-amount">
            S/. {{ orden.orderTotal | number : "1.2-2" }}
          </div>
        </div>
      </div>
    </section>
  } @else if (loading) {
    <p>Cargando detalles de la orden...</p>
  } @else if (error) {
    <p class="error-message">Error: {{ error }}</p>
  } @else {
    <p>No se encontraron detalles para esta orden.</p>
  }
</div>
