<main>
  <div class="p-m-4">
    <!-- Header -->
    <div class="p-d-flex p-jc-between p-ai-center p-mb-4">
      <div>
        <h1 class="p-mb-1">Gestión de Productos</h1>
        <p class="p-text-secondary">Administra el inventario y catálogo de productos</p>
      </div>
      <a
        routerLink="/admin/productos/crear"
        pButton
        label="Nuevo producto"
        icon="pi pi-plus"
        class="p-button-success"
      ></a>
    </div>

    <!-- Table -->
    <div class="p-card p-shadow-2 p-p-3">
      <p-table [value]="productos" [paginator]="true" [rows]="10" [responsiveLayout]="'scroll'">
        <ng-template pTemplate="header">
          <tr>
            <th>Imagen</th>
            <th>Producto</th>
            <th>Stock</th>
            <th>Estado</th>
            <th>Acciones</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-item>
          <tr>
            <td>
              <img
                [src]="item.imagenProducto"
                alt="Imagen del producto"
                class="product-image p-shadow-1"
                style="width:50px; height:50px; border-radius:4px;"
              />
            </td>
            <td><strong>{{ item.nombreProducto }}</strong></td>
            <td>
              <span class="p-tag p-tag-info">{{ item.stockProducto }}</span>
            </td>
            <td>
              <span
                class="p-tag"
                [ngClass]="item.status ? 'p-tag-success' : 'p-tag-danger'"
                >{{ item.status ? 'Activo' : 'Inactivo' }}</span
              >
            </td>
            <td>
              <div class="p-d-flex p-ai-center p-jc-start p-flex-wrap" style="gap:0.5rem;">
                <button
                  pButton
                  icon="pi pi-pencil"
                  class="p-button-warning p-button-sm"
                  (click)="editar(item)"
                ></button>
                <button
                  pButton
                  icon="pi pi-trash"
                  class="p-button-danger p-button-sm"
                  (click)="eliminar(item)"
                ></button>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</main>